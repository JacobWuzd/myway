<!--
 * @Author: your name
 * @Date: 2020-06-29 16:08:26
 * @LastEditTime: 2020-06-29 17:08:20
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: \我的路线code\JS篇\数组\手写unshift.html
--> 
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
  /**
   * 1.接收不限个数的参数
   * 2.获取原数组长度
   * 3.把原数组所有项后移一位
   * 4.遍历参数，每遍历一个参数，数组长度加1，在数组头部添加该参数
   */

    Array.prototype._unshift = function () {
      let args = arguments
      let length = args.length
      if (length === 0) return
      let arr = this
      if (!Array.isArray(arr)) {
        throw new Error('not Array')
      }
      let arrL = arr.length
      for (let j = arrL; j > 0; j--) {
        arr[j + length - 1] = arr[j - 1]
      }
      for (let i = 0; i < length; i++) {
        arr[i] = args[i]
        arrL++
      }
      return arrL
    }
    let arr = [1,2,3]
    let a = arr._unshift([4,5,6],7)
    console.log(arr,a)
  </script>
</body>
</html>