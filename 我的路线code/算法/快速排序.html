<!--
 * @Author: your name
 * @Date: 2020-08-20 10:23:02
 * @LastEditTime: 2020-08-20 14:19:20
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: \我的路线code\算法\快速排序.html
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
</body>
<script>
  let quickSort = function (arr) {
    let len = arr.length
    if (len <= 1) {
      return arr
    }
    let harf = arr.splice(len / 2, 1)
    len--
    let left = [],
        right = [];
    for (let i = 0; i < len; i++) {
      if (arr[i] < harf) {
        left.push(arr[i])
      } else {
        right.push(arr[i])
      }
    }
    return quickSort(left).concat(harf,quickSort(right))
  }
  

  var devide = function (array, start, end) {
        if(start >= end) return array;
        var baseIndex = Math.floor((start + end) / 2), // 基数索引
             i = start,
             j = end;

        while (i <= j) {
            while (array[i] < array[baseIndex]) {
                i++;
            }
            while (array[j] > array[baseIndex])  {
                j--;
            }

            if(i <= j) {
                var temp = array[i];
                array[i] = array[j];
                array[j] = temp;
                i++;
                j--;
            }
        }
        return i;
    }

    var quickSort = function (array, start, end) {
        if(array.length < 1) {
            return array;
        }
        end = end || array.length - 1
        start = start || 0
        var index = devide(array, start, end);
        if(start < index -1) {
            quickSort(array, start, index - 1);
        }
        if(end > index) {
            quickSort(array, index, end);
        }

        return array;
    }
    let arr = [8,11,19,15,1,5,6,7,0,4,6,8,13,12,10,7,0,4,6,8,13,12,10,8,11,19,15,1,5,6,7,0,4,6,8,13,12,10,7,0,4,6,8,13,12,10,8,11,19,15,1,5,6,7,0,4,6,8,13,12,10,7,0,4,6,8,13,12,10]
  console.time('qu1')
  console.log(quickSort(arr))
  console.timeEnd('qu1')
</script>
</html>